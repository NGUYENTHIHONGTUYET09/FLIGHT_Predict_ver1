{% extends "base.html" %}
{% block content %}
<div style="max-width:400px; margin:48px auto; background:#fff; border-radius:14px; box-shadow:0 4px 24px rgba(0,0,0,0.12); padding:32px 28px;">
    <h3 style="text-align:center; color:#2563eb; margin-bottom:18px;" id="form-title">Đăng nhập</h3>
    
    {% if error %}
    <div style="background:#ffebee; color:#b71c1c; border:1px solid #ef9a9a; border-radius:6px; padding:8px 12px; margin-bottom:16px; text-align:center;">
        {{ error }}
    </div>
    {% endif %}
    
    <form method="POST" id="login-form">
        <label style="display:block; margin-bottom:4px; color:#333; font-weight:500;">Email:</label>
        <input type="email" name="email" required style="width:100%; margin-bottom:10px; padding:8px 10px; border:1px solid #cfd8dc; border-radius:6px; box-sizing:border-box;">
        <label style="display:block; margin-bottom:4px; color:#333; font-weight:500;">Mật khẩu:</label>
        <input type="password" name="password" required style="width:100%; margin-bottom:10px; padding:8px 10px; border:1px solid #cfd8dc; border-radius:6px; box-sizing:border-box;">
        <input type="hidden" name="action" value="login">
        <input type="submit" value="Đăng nhập" style="width:100%; background:#2563eb; color:#fff; border:none; border-radius:6px; padding:8px 0; font-weight:500; cursor:pointer;">
    </form>
    <div style="text-align:center; margin-top:12px;">
        <a href="#" onclick="showRegister(); return false;" style="color:#2563eb; text-decoration:none;">Chưa có tài khoản? Đăng ký</a>
    </div>
    
    <form method="POST" style="display:none;" id="register-form">
        <label style="display:block; margin-bottom:4px; color:#333; font-weight:500;">Tên hiển thị:</label>
        <input type="text" name="name" required style="width:100%; margin-bottom:10px; padding:8px 10px; border:1px solid #cfd8dc; border-radius:6px; box-sizing:border-box;">
        <label style="display:block; margin-bottom:4px; color:#333; font-weight:500;">Email:</label>
        <input type="email" name="email" required style="width:100%; margin-bottom:10px; padding:8px 10px; border:1px solid #cfd8dc; border-radius:6px; box-sizing:border-box;">
        <label style="display:block; margin-bottom:4px; color:#333; font-weight:500;">Mật khẩu:</label>
        <input type="password" name="password" required style="width:100%; margin-bottom:10px; padding:8px 10px; border:1px solid #cfd8dc; border-radius:6px; box-sizing:border-box;">
        <input type="hidden" name="action" value="register">
        <input type="submit" value="Đăng ký" style="width:100%; background:#2563eb; color:#fff; border:none; border-radius:6px; padding:8px 0; font-weight:500; cursor:pointer;">
    </form>
    <div style="text-align:center; margin-top:12px;" id="login-link">
        <a href="#" onclick="showLogin(); return false;" style="color:#2563eb; text-decoration:none;">Đã có tài khoản? Đăng nhập</a>
    </div>
</div>
<script>
function showRegister() {
    document.getElementById('login-form').style.display = 'none';
    document.getElementById('register-form').style.display = 'block';
    document.getElementById('form-title').textContent = 'Đăng ký';
    document.querySelector('div[style*="Chưa có tài khoản"]').style.display = 'none';
    document.getElementById('login-link').style.display = 'block';
}
function showLogin() {
    document.getElementById('login-form').style.display = 'block';
    document.getElementById('register-form').style.display = 'none';
    document.getElementById('form-title').textContent = 'Đăng nhập';
    document.querySelector('div[style*="Chưa có tài khoản"]').style.display = 'block';
    document.getElementById('login-link').style.display = 'none';
}
</script>
{% endblock %}
